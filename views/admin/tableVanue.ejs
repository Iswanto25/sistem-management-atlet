<div class="card">
    <div class="card-header">
        <h4>Data Vanue</h4>
    </div>
    <div class="card-body table-responsive-xl">
        <div class="row">
            <div class="col-md-12">
                <% if (messages.success) { %>
                    <div class="alert alert-success" role="alert"><%- messages.success %>
                            <button type="button" class="close" data-bs-dismiss="alert" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                    </div>
                    <% } %>
                        <% if (messages.error) { %>
                            <div class="alert alert-danger" role="alert"><%- messages.error %>
                                    <button type="button" class="close" data-bs-dismiss="alert" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                            </div>
                            <% } %>
            </div>
            <div class="col-md-12"></div>
        </div>
        <table class="table table-striped table-bordered" id="tablecabor">
            <thead class="table-dark">
                <tr>
                    <th>No</th>
                    <th>Nama</th>
                    <th>Alamat</th>
                    <th>Kecamatan</th>
                    <th>Cabor</th>
                    <th>Tanggal Bangun</th>
                    <th>Aksi</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <% if(cabor.length){ for(var i=0; i< cabor.length; i++){%>
                        <th scope="row" class="text-center">
                            <%= (i+1)%>
                        </th>
                        <td>
                            <%=cabor[i].nama%>
                        </td>
                        <td>
                            <%=cabor[i].alamat%>
                        </td>
                        <td>
                            <%=cabor[i].kecamatan%>
                        </td>
                        <td>
                            <%=cabor[i].cabor%>
                        </td>
                        <td>
                            <%=cabor[i].tgl_bangun%>
                        </td>
                        <td>
                            <div class="btn-group">
                                <button href="javascript:void(0);" class="btn btn-sm btn-success edit"
                                    data-id="<%=cabor[i].id_vanue%>" data-nama="<%=cabor[i].nama%>"
                                    data-tgl_bangun="<%=cabor[i].tgl_bangun%>"
                                    data-alamat="<%=cabor[i].alamat%>"
                                    data-kecamatan="<%=cabor[i].kecamatan%>" data-cabor="<%=cabor[i].cabor%>"
                                    >
                                    <i class="fa-solid fa-pen-clip"></i>
                                </button>
                                <button href="javascript:void(0);" class="btn btn-sm btn-danger delete" type="button"
                                    data-id="<%= cabor[i].id_vanue %>">
                                    <i class="fa-solid fa-delete-left"></i>
                                </button>
                            </div>
                        </td>
                </tr>
                <%} }else{ %>
                    <tr>
                        <td colspan="12">
                            <div class="alert alert-danger" role="alert">
                                Data Kosong
                                <a class="btn btn-danger btn-xs" style="text-decoration: none" data-bs-toggle="modal"
                                    data-bs-target="#addVanue">Tambah Data</a>
                            </div>
                        </td>
                    </tr>
                    <% } %>
            </tbody>
        </table>
    </div>
    <div class="card-footer">
        <a data-bs-target="#addVanue" data-bs-toggle="modal" type="button" class="btn btn-secondary btn-sm"> Tambah
            cabor</a>

    </div>
</div>
<script>
    $(document).ready(function () {
        $('#tablecabor').DataTable();
    });
</script>
<script>
    $(document).ready(function () {
        $("#tablecabor").on("click", ".edit", function () {
            var id_vanue = $(this).data("id");
            var nama = $(this).data("nama");
            var tgl_bangun = $(this).data("tgl_bangun");
            var alamat = $(this).data("alamat");
            var kecamatan = $(this).data("kecamatan");
            var cabor = $(this).data("cabor");
            $("#editVanue").modal("show");
            $(".id_vanue").val(id_vanue);
            $(".nama").val(nama);
            $(".tgl_bangun").val(tgl_bangun);
            $(".alamat").val(alamat);
            $(".cabor").val(cabor);
            $(".kecamatan").val(kecamatan);
        });
        $("#tablecabor").on("click", ".delete", function () {
            var id_vanue = $(this).data("id");
            $("#deletecabor").modal("show");
            $(".product_id2").val(id_vanue);
        });
    });
</script>